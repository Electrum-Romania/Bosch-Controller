\hypertarget{class_loggable}{}\doxysection{Loggable Class Reference}
\label{class_loggable}\index{Loggable@{Loggable}}


Base class for logging classes.  




{\ttfamily \#include $<$loggable.\+h$>$}



Inheritance diagram for Loggable\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_loggable__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}}
\begin{DoxyCompactList}\small\item\em Description of a watch value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_loggable_a0248e6badc571b0102e57d8807a75cd5}{Loggable}} (std\+::string name, int key, const std\+::vector$<$ \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}} $>$ \&wp=\{\})
\begin{DoxyCompactList}\small\item\em Constructs an nclogger screen and watch. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_loggable_a457d68ba1dcc70c6f9880bc4ddf614c0}{log}} (Log\+Level log\+\_\+level, std\+::string message) const
\begin{DoxyCompactList}\small\item\em Log a message to the associated screen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_loggable_a790ae92fc3ef4656c108dfb6092e2560}{set\+\_\+watch\+\_\+value}} (int i, std\+::string value)
\begin{DoxyCompactList}\small\item\em Sets a watch value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_loggable_afaa6ee9f9f127147203342c97acd2767}{set\+\_\+watch\+\_\+value}} (int i, double d, int precision=2)
\begin{DoxyCompactList}\small\item\em Sets a watch value from a double. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{class_loggable_a11b60d7b5e39a2368bdb4b5d3924f246}{set\+\_\+watch\+\_\+value}} (int i, T value, void($\ast$callback)(std\+::stringstream \&ss)=nullptr)
\begin{DoxyCompactList}\small\item\em Sets a watch value from an arbitrary type. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Base class for logging classes. 

This class provides a convenience abstraction layer over the nclogger library. It acquires a screen and a watch and manages them. Logging should be done through this class\textquotesingle{}s protected member functions.

To summarize the concepts of our ncurses logger\+: a {\itshape screen} represents a series of logged messages generated by an independent software component. The user can select to view the messages generated on a screen which will then fill his whole terminal (hence the name \char`\"{}screen\char`\"{}), or can choose to view all of them at once.

A {\itshape watch} is a collection of dynamic values which represent the current state of the system (currently active speed, frame time, etc.). These are shown in ncurses in a side window which can be shown and hidden by the user. To use watches in this project use the following idiom\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{enum} \{}
\DoxyCodeLine{    watch\_some\_value,}
\DoxyCodeLine{    watch\_some\_other\_value,}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{static}}
\DoxyCodeLine{std::vector<Loggable::WatchPair> watch\_pairs \{}
\DoxyCodeLine{    \{watch\_some\_value, \textcolor{stringliteral}{"{}Some Value"{}}, 4\}, \textcolor{comment}{// 4 is the width. should be appropriate for the value}}
\DoxyCodeLine{    \{watch\_some\_other\_value, \textcolor{stringliteral}{"{}Some Other Value"{}}, 4\},}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{MyLoggingClass::MyLoggingClass()}
\DoxyCodeLine{    : \mbox{\hyperlink{class_loggable}{Loggable}}(\textcolor{stringliteral}{"{}MyLoggingClass"{}}, \textcolor{stringliteral}{'m'}, watch\_pairs) \textcolor{comment}{// 'm' is the key associated with this class.}}
\DoxyCodeLine{                                                   \textcolor{comment}{// should be unique for this class}}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{comment}{// other initialization}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{MyLoggingClass::foo()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{comment}{// some loop that happens perpetually}}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{        T some\_value = ...}
\DoxyCodeLine{        T some\_other\_value = ...}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// set watch values on every iteration}}
\DoxyCodeLine{        set\_watch\_value(watch\_some\_value, some\_value);}
\DoxyCodeLine{        set\_watch\_value(watch\_some\_other\_value, some\_other\_value);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// only log if something unique happened}}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (some\_value < 0) \{}
\DoxyCodeLine{            log(LogLevel::Warn, \textcolor{stringliteral}{"{}unexpected negative some\_value"{}});}
\DoxyCodeLine{        \}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxyNote}{Note}
Almost all classes should inherit (directly or indirectly) from this class. 
\end{DoxyNote}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_loggable_a0248e6badc571b0102e57d8807a75cd5}\label{class_loggable_a0248e6badc571b0102e57d8807a75cd5}} 
\index{Loggable@{Loggable}!Loggable@{Loggable}}
\index{Loggable@{Loggable}!Loggable@{Loggable}}
\doxysubsubsection{\texorpdfstring{Loggable()}{Loggable()}}
{\footnotesize\ttfamily Loggable\+::\+Loggable (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{int}]{key,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}} $>$ \&}]{wp = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Constructs an nclogger screen and watch. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the screen and watch. This is what will be seen by the user in the interface. \\
\hline
{\em key} & The key associated with the screen and watch. Should be unique. \\
\hline
{\em wp} & Description of values for the watch. If it is empty, a watch is not reserved at all. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_loggable_a457d68ba1dcc70c6f9880bc4ddf614c0}\label{class_loggable_a457d68ba1dcc70c6f9880bc4ddf614c0}} 
\index{Loggable@{Loggable}!log@{log}}
\index{log@{log}!Loggable@{Loggable}}
\doxysubsubsection{\texorpdfstring{log()}{log()}}
{\footnotesize\ttfamily void Loggable\+::log (\begin{DoxyParamCaption}\item[{Log\+Level}]{log\+\_\+level,  }\item[{std\+::string}]{message }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Log a message to the associated screen. 


\begin{DoxyParams}{Parameters}
{\em log\+\_\+level} & The log level of the message. \\
\hline
{\em message} & The text of the message. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_loggable_afaa6ee9f9f127147203342c97acd2767}\label{class_loggable_afaa6ee9f9f127147203342c97acd2767}} 
\index{Loggable@{Loggable}!set\_watch\_value@{set\_watch\_value}}
\index{set\_watch\_value@{set\_watch\_value}!Loggable@{Loggable}}
\doxysubsubsection{\texorpdfstring{set\_watch\_value()}{set\_watch\_value()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void Loggable\+::set\+\_\+watch\+\_\+value (\begin{DoxyParamCaption}\item[{int}]{i,  }\item[{double}]{d,  }\item[{int}]{precision = {\ttfamily 2} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Sets a watch value from a double. 

The watch value will be set with the given double formatted with fixed precision.


\begin{DoxyParams}{Parameters}
{\em i} & The watch index as set in the \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}} given to the constructor. \\
\hline
{\em d} & The double to use. \\
\hline
{\em precision} & The text of the set message. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_loggable_a790ae92fc3ef4656c108dfb6092e2560}\label{class_loggable_a790ae92fc3ef4656c108dfb6092e2560}} 
\index{Loggable@{Loggable}!set\_watch\_value@{set\_watch\_value}}
\index{set\_watch\_value@{set\_watch\_value}!Loggable@{Loggable}}
\doxysubsubsection{\texorpdfstring{set\_watch\_value()}{set\_watch\_value()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void Loggable\+::set\+\_\+watch\+\_\+value (\begin{DoxyParamCaption}\item[{int}]{i,  }\item[{std\+::string}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Sets a watch value. 


\begin{DoxyParams}{Parameters}
{\em i} & The watch index as set in the \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}} given to the constructor. \\
\hline
{\em value} & The text of the set message. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_loggable_a11b60d7b5e39a2368bdb4b5d3924f246}\label{class_loggable_a11b60d7b5e39a2368bdb4b5d3924f246}} 
\index{Loggable@{Loggable}!set\_watch\_value@{set\_watch\_value}}
\index{set\_watch\_value@{set\_watch\_value}!Loggable@{Loggable}}
\doxysubsubsection{\texorpdfstring{set\_watch\_value()}{set\_watch\_value()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void Loggable\+::set\+\_\+watch\+\_\+value (\begin{DoxyParamCaption}\item[{int}]{i,  }\item[{T}]{value,  }\item[{void($\ast$)(std\+::stringstream \&ss)}]{callback = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Sets a watch value from an arbitrary type. 

The watch value will be set with the given value, with formatting by stringstream.


\begin{DoxyParams}{Parameters}
{\em i} & The watch index as set in the \mbox{\hyperlink{struct_loggable_1_1_watch_pair}{Watch\+Pair}} given to the constructor. \\
\hline
{\em value} & The value to be used. \\
\hline
{\em callback} & Function called before value is fed to ss. Can be used to set formatting parameters. \\
\hline
\end{DoxyParams}
